{"ast":null,"code":"import _slicedToArray from\"/Users/armanrafati/Documents/Cleanify/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _createForOfIteratorHelper from\"/Users/armanrafati/Documents/Cleanify/client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import{MinusIcon}from\"@chakra-ui/icons\";import{Accordion,AccordionItem,AccordionButton,AccordionPanel,AccordionIcon,Box,Link,UnorderedList,Tooltip,IconButton,Flex}from\"@chakra-ui/react\";import{useGlobalState}from\"../../../contexts/GlobalContext\";import SongListItem from\"./SongListItem\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ConflictAccordion=function ConflictAccordion(_ref){var mainSong=_ref.mainSong,possibleSongs=_ref.possibleSongs,allSongs=_ref.allSongs;var _useGlobalState=useGlobalState(),setSongsToResolve=_useGlobalState.setSongsToResolve,songsToResolve=_useGlobalState.songsToResolve;var handleRemoveItemFromList=function handleRemoveItemFromList(){var remaining=new Map();var _iterator=_createForOfIteratorHelper(songsToResolve),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step$value=_slicedToArray(_step.value,2),key=_step$value[0],value=_step$value[1];if(key!==mainSong)remaining.set(key,value);}}catch(err){_iterator.e(err);}finally{_iterator.f();}setSongsToResolve(remaining);// TODO: Update summary view with changes\n};return/*#__PURE__*/_jsx(Accordion,{defaultIndex:[0],allowMultiple:true,children:/*#__PURE__*/_jsxs(AccordionItem,{children:[/*#__PURE__*/_jsxs(Flex,{flexDir:\"row\",justify:\"center\",align:\"center\",children:[/*#__PURE__*/_jsxs(AccordionButton,{children:[/*#__PURE__*/_jsx(Box,{flex:\"1\",textAlign:\"left\",children:/*#__PURE__*/_jsx(Link,{isExternal:true,fontSize:\"xl\",fontWeight:\"bold\",href:possibleSongs[0]&&possibleSongs[0].original_track_link,children:mainSong})}),/*#__PURE__*/_jsx(AccordionIcon,{})]}),/*#__PURE__*/_jsx(Tooltip,{hasArrow:true,label:\"Do not add this song to playlist (None below match)\",fontSize:\"md\",children:/*#__PURE__*/_jsx(IconButton,{ml:3,minW:\"25px\",w:\"25px\",h:\"25px\",icon:/*#__PURE__*/_jsx(MinusIcon,{h:3,w:3}),colorScheme:\"red\",onClick:handleRemoveItemFromList,children:\"-\"})})]}),/*#__PURE__*/_jsx(AccordionPanel,{pb:4,children:/*#__PURE__*/_jsx(UnorderedList,{mb:5,children:possibleSongs&&possibleSongs.map(function(item,index){return/*#__PURE__*/_jsx(SongListItem,{allSongs:allSongs,songTitle:item.name,songLink:item.link,songURI:item.uri,ogSongTitle:mainSong},index);})})})]})});};export default ConflictAccordion;","map":{"version":3,"sources":["/Users/armanrafati/Documents/Cleanify/client/src/components/Modals/Conflict/ConflictAccordion.jsx"],"names":["MinusIcon","Accordion","AccordionItem","AccordionButton","AccordionPanel","AccordionIcon","Box","Link","UnorderedList","Tooltip","IconButton","Flex","useGlobalState","SongListItem","ConflictAccordion","mainSong","possibleSongs","allSongs","setSongsToResolve","songsToResolve","handleRemoveItemFromList","remaining","Map","key","value","set","original_track_link","map","item","index","name","link","uri"],"mappings":"4RAAA,OAASA,SAAT,KAA0B,kBAA1B,CACA,OACEC,SADF,CAEEC,aAFF,CAGEC,eAHF,CAIEC,cAJF,CAKEC,aALF,CAMEC,GANF,CAOEC,IAPF,CAQEC,aARF,CASEC,OATF,CAUEC,UAVF,CAWEC,IAXF,KAYO,kBAZP,CAaA,OAASC,cAAT,KAA+B,iCAA/B,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,C,wFAEA,MAAO,IAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,MAA2C,IAAxCC,CAAAA,QAAwC,MAAxCA,QAAwC,CAA9BC,aAA8B,MAA9BA,aAA8B,CAAfC,QAAe,MAAfA,QAAe,CAC1E,oBAA8CL,cAAc,EAA5D,CAAQM,iBAAR,iBAAQA,iBAAR,CAA2BC,cAA3B,iBAA2BA,cAA3B,CAEA,GAAMC,CAAAA,wBAAwB,CAAG,QAA3BA,CAAAA,wBAA2B,EAAM,CACrC,GAAMC,CAAAA,SAAS,CAAG,GAAIC,CAAAA,GAAJ,EAAlB,CADqC,yCAEZH,cAFY,YAErC,+CAAyC,+CAA/BI,GAA+B,gBAA1BC,KAA0B,gBACvC,GAAID,GAAG,GAAKR,QAAZ,CAAsBM,SAAS,CAACI,GAAV,CAAcF,GAAd,CAAmBC,KAAnB,EACvB,CAJoC,qDAKrCN,iBAAiB,CAACG,SAAD,CAAjB,CACA;AACD,CAPD,CAQA,mBACE,KAAC,SAAD,EAAW,YAAY,CAAE,CAAC,CAAD,CAAzB,CAA8B,aAAa,KAA3C,uBACE,MAAC,aAAD,yBACE,MAAC,IAAD,EAAM,OAAO,CAAC,KAAd,CAAoB,OAAO,CAAC,QAA5B,CAAqC,KAAK,CAAC,QAA3C,wBACE,MAAC,eAAD,yBACE,KAAC,GAAD,EAAK,IAAI,CAAC,GAAV,CAAc,SAAS,CAAC,MAAxB,uBACE,KAAC,IAAD,EACE,UAAU,KADZ,CAEE,QAAQ,CAAC,IAFX,CAGE,UAAU,CAAC,MAHb,CAIE,IAAI,CAAEL,aAAa,CAAC,CAAD,CAAb,EAAoBA,aAAa,CAAC,CAAD,CAAb,CAAiBU,mBAJ7C,UAMGX,QANH,EADF,EADF,cAYE,KAAC,aAAD,IAZF,GADF,cAeE,KAAC,OAAD,EACE,QAAQ,KADV,CAEE,KAAK,CAAC,qDAFR,CAGE,QAAQ,CAAC,IAHX,uBAKE,KAAC,UAAD,EACE,EAAE,CAAE,CADN,CAEE,IAAI,CAAC,MAFP,CAGE,CAAC,CAAC,MAHJ,CAIE,CAAC,CAAC,MAJJ,CAKE,IAAI,cAAE,KAAC,SAAD,EAAW,CAAC,CAAE,CAAd,CAAiB,CAAC,CAAE,CAApB,EALR,CAME,WAAW,CAAC,KANd,CAOE,OAAO,CAAEK,wBAPX,eALF,EAfF,GADF,cAkCE,KAAC,cAAD,EAAgB,EAAE,CAAE,CAApB,uBACE,KAAC,aAAD,EAAe,EAAE,CAAE,CAAnB,UACGJ,aAAa,EACZA,aAAa,CAACW,GAAd,CAAkB,SAACC,IAAD,CAAOC,KAAP,qBAChB,KAAC,YAAD,EACE,QAAQ,CAAEZ,QADZ,CAGE,SAAS,CAAEW,IAAI,CAACE,IAHlB,CAIE,QAAQ,CAAEF,IAAI,CAACG,IAJjB,CAKE,OAAO,CAAEH,IAAI,CAACI,GALhB,CAME,WAAW,CAAEjB,QANf,EAEOc,KAFP,CADgB,EAAlB,CAFJ,EADF,EAlCF,GADF,EADF,CAsDD,CAjEM,CAkEP,cAAef,CAAAA,iBAAf","sourcesContent":["import { MinusIcon } from \"@chakra-ui/icons\";\nimport {\n  Accordion,\n  AccordionItem,\n  AccordionButton,\n  AccordionPanel,\n  AccordionIcon,\n  Box,\n  Link,\n  UnorderedList,\n  Tooltip,\n  IconButton,\n  Flex,\n} from \"@chakra-ui/react\";\nimport { useGlobalState } from \"../../../contexts/GlobalContext\";\nimport SongListItem from \"./SongListItem\";\n\nexport const ConflictAccordion = ({ mainSong, possibleSongs, allSongs }) => {\n  const { setSongsToResolve, songsToResolve } = useGlobalState();\n\n  const handleRemoveItemFromList = () => {\n    const remaining = new Map();\n    for (let [key, value] of songsToResolve) {\n      if (key !== mainSong) remaining.set(key, value);\n    }\n    setSongsToResolve(remaining);\n    // TODO: Update summary view with changes\n  };\n  return (\n    <Accordion defaultIndex={[0]} allowMultiple>\n      <AccordionItem>\n        <Flex flexDir=\"row\" justify=\"center\" align=\"center\">\n          <AccordionButton>\n            <Box flex=\"1\" textAlign=\"left\">\n              <Link\n                isExternal\n                fontSize=\"xl\"\n                fontWeight=\"bold\"\n                href={possibleSongs[0] && possibleSongs[0].original_track_link}\n              >\n                {mainSong}\n              </Link>\n            </Box>\n\n            <AccordionIcon />\n          </AccordionButton>\n          <Tooltip\n            hasArrow\n            label=\"Do not add this song to playlist (None below match)\"\n            fontSize=\"md\"\n          >\n            <IconButton\n              ml={3}\n              minW=\"25px\"\n              w=\"25px\"\n              h=\"25px\"\n              icon={<MinusIcon h={3} w={3} />}\n              colorScheme=\"red\"\n              onClick={handleRemoveItemFromList}\n            >\n              -\n            </IconButton>\n          </Tooltip>\n        </Flex>\n        <AccordionPanel pb={4}>\n          <UnorderedList mb={5}>\n            {possibleSongs &&\n              possibleSongs.map((item, index) => (\n                <SongListItem\n                  allSongs={allSongs}\n                  key={index}\n                  songTitle={item.name}\n                  songLink={item.link}\n                  songURI={item.uri}\n                  ogSongTitle={mainSong}\n                />\n              ))}\n          </UnorderedList>\n        </AccordionPanel>\n      </AccordionItem>\n    </Accordion>\n  );\n};\nexport default ConflictAccordion;\n"]},"metadata":{},"sourceType":"module"}